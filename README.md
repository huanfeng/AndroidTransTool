# android_trans_tool

安卓资源翻译工具

## 开始

通过 ChatGPT 的 JsonMode 来让 GPT 强制返回合法的 json 格式回复, 以达到稳定的翻译目的.
目前默认为 gpt-3.5-turbo-1106 的模型, 只要支持 JsonMode 的模型原则上都可以正常工作.

注意: 当前并不完善, 很多错误情况都没有进行处理

## 使用

1. 需要先配置好ChatGPT的地址和Token, 配置好后可以使用菜单"帮助"->"测试翻译接口"来进行测试
2. 打开安卓应用的工程根目录, 程序会自动扫描 res 下的目录
    * 为了简化逻辑, 程序只会扫描 values 和 values-xxx 目录下的 strings 和 arrays 前缀的文件
3. 然后选择需要翻译的资源文件, 会在数据窗口中显示所有数据, 程序会判断 translatable 的配置, 以避免不必要的翻译 (
   所以源文件的这个值要正确)
4. 使用一键翻译功能来自动选择需要翻译的语言并执行, 请注意自行备份原始文件, 执行保存操作后无法退回

## 已知问题

1. 目前一些UI选项为调试所用, 没有功能
2. 开始翻译时目前没有停止的按钮, 翻译工作时请不要再进行其它操作
3. 翻译希伯来语时, 有概率出现Json解析失败的情况, 暂时没有修正

## 提示

1. 保存时, 会按照默认语言的条目顺序重新排列其它翻译过的语言, 空行之类的都会被删除
2. 持久化的配置文件默认在用户目录, 一般为以下路径, 可以删除里面的配置文件来达到重置的目的:

   > C:\Users\<当前用户名>\AppData\Roaming\com.idufeng.tools\android_trans_tool\

3. 目前会在程序目录生成 log.txt 的日志记录, 包含了程序的所有运行和请求记录, 可能包含一些 Token 之类的数据

